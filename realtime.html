<html>
<head>
    <title>Agent_details</title>
    <link rel="shortcut icon" type="image/x-icon" href="logo.png">
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <py-env>
        - random
        - pandas
        - matplotlib
    </py-env>
</head>
<body>
<h1>signal graph</h1>
<div id="plot"></div>
<py-script output="plot">
    import random
    from itertools import count
    import pandas as pd
    import matplotlib.pyplot as plt
    from matplotlib.animation import FuncAnimation
    
    x_val = []
    heart_rate_val = []
    breathing_rate_val = []
    body_temperature_val = []
        
    index = count()
        
    def animate(i):
        x_val.append(next(index))
        heart_rate_val.append(random.randint(60,100))
        breathing_rate_val.append(random.randint(12,20))
        body_temperature_val.append(random.randint(36,37))
        plt.cla()
        plt.title("< signal >")
        plt.xlabel('second') 
        plt.ylabel('measures')
        plt.plot(x_val, heart_rate_val, label='heart rate')
        plt.plot(x_val, breathing_rate_val, label='breathing rate')
        plt.plot(x_val, body_temperature_val, label='body temperature')
        plt.legend(bbox_to_anchor=(0,1), loc="upper left", borderaxespad=0.)
    
    ani = FuncAnimation(plt.gcf(), animate, interval = 1000)
    plt.tight_layout()
    plt.show()
    ani.save('signal_down.gif', writer='imagemagick')
</py-script>
</body>
</html>